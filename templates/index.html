<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>index</title>
    <script type="text/javascript" src="../static/js/jquery.js"></script>
    <link rel="stylesheet" href="../static/css/comon0.css" />
  </head>
  <script>
    $(window).load(function () {
      $(".loading").fadeOut();
    });

    /****/
    $(document).ready(function () {
      var whei = $(window).width();
      $("html").css({ fontSize: whei / 20 });
      $(window).resize(function () {
        var whei = $(window).width();
        $("html").css({ fontSize: whei / 20 });
      });
    });
  </script>
  <script type="text/javascript" src="../static/js/echarts.min.js"></script>
  <script type="text/javascript" src="../static/js/china.js"></script>

  <body>
    <div class="canvas" style="opacity: 0.2">
      <iframe
        frameborder="0"
        src="../static/js/index.html"
        style="width: 100%; height: 100%"
      ></iframe>
    </div>
    <div class="loading">
      <div class="loadbox">
        <img src="../static/picture/loading.gif" /> 页面加载中...
      </div>
    </div>
    <div class="head">
      <h1>{{title}}</h1>
      <div class="weather">
        <!--        <img src="picture/weather.png"><span>多云转小雨</span>-->
        <span id="showTime"></span>
      </div>

      <script>
        var t = null;
        t = setTimeout(time, 1000); //開始运行
        function time() {
          clearTimeout(t); //清除定时器
          dt = new Date();
          var y = dt.getFullYear();
          var mt = dt.getMonth() + 1;
          var day = dt.getDate();
          var h = dt.getHours(); //获取时
          var m = dt.getMinutes(); //获取分
          var s = dt.getSeconds(); //获取秒
          document.getElementById("showTime").innerHTML =
            y +
            "年" +
            mt +
            "月" +
            day +
            "日" +
            "-" +
            h +
            "时" +
            m +
            "分" +
            s +
            "秒";
          t = setTimeout(time, 1000); //设定定时器，循环运行
        }
      </script>
    </div>
    <div class="mainbox">
      <ul class="clearfix">
        <li>
          <div class="boxall">
              <div class="alltitle">{{form.echarts3_1.title}}</div>
              <div class="allnav" id="fb1"></div>
              <div class="boxfoot"></div>
            <div class="boxfoot"></div>
          </div>
        </li>
        <li>
          <div class="map">
            <div class="map1"><img src="../static/picture/lbx.png" /></div>
            <div class="map2"><img src="../static/picture/jt.png" /></div>
            <div class="map3"><img src="../static/picture/map.png" /></div>
          </div>
        </li>
        <li>
          <div class="linechart">
            <div class="alltitle">{{form.echart4.title}}</div>
            <div class="allnav" id="echart4"></div>
            <div class="boxfoot"></div>
          </div>
        </li>
      </ul>
    </div>
    <div class="back"></div>
    <!--echarts3_1-->
    <script>
      $(function echarts_31() {
          // 基于准备好的dom，初始化echarts实例
          var myChart = echarts.init(document.getElementById('fb1'));
          option = {
      	  //   title: [{
          //     text: '{{form.echarts3_1.title}}',
          //     left: 'center',
          //     textStyle: {
          //         color: '#fff',
      		// 	fontSize:'16'
          //     }
          // }],
          tooltip: {
              trigger: 'item',
              formatter: "{a} <br/>{b}: {c} ({d}%)",
              position:function(p){   //其中p为当前鼠标的位置
              return [p[0] + 10, p[1] - 10];
              }
          },
          legend: {
              top:'0%',
              // itemWidth: 10,
              // itemHeight: 10,
              data:{{form.echarts3_1.xAxis|safe}},
              textStyle: {
                  color: 'rgba(255,255,255,.5)',
                  fontSize:'12',
              }
          },
          series: [
              {
              	name:'{{form.echarts3_1.title}}',
                  type:'pie',
      			// center: ['50%', '100%'],
                  // radius: ['25%', '50%'],
                        color: ['#065aab', '#066eab', '#0682ab', '#0696ab', '#06a0ab','#06b4ab','#06c8ab','#06dcab','#06f0ab'],
                  label: {show:false},
      			labelLine: {show:false},
                  data:{{form.echarts3_1.data|safe}}
              }
          ]
      };
          // 使用刚指定的配置项和数据显示图表。
          myChart.setOption(option);
          window.addEventListener("resize",function(){
              myChart.resize();
          });
      })
    </script>
    <!--echarts4-->
    <script>
      $(function echarts_4() {
          // 基于准备好的dom，初始化echarts实例
          var myChart = echarts.init(document.getElementById('echart4'));
          option = {
      	    tooltip: {
              trigger: 'axis',
              axisPointer: {
                  lineStyle: {
                      color: '#dddc6b'
                  }
              }
          },
      	legend: {
              right:'0%',
              data:{{form.echart4.names|safe}},
              textStyle: {
                  color: 'rgba(255,255,255,.5)',
                  fontSize:'12',
              }
          },
          grid: {
              left: '10',
      		    top: '30',
              right: '10',
              bottom: '10',
              containLabel: true
          },
          xAxis: [{
              type: 'category',
              boundaryGap: false,
              axisLabel:  {
                  textStyle: {
                      color: "rgba(255,255,255,.6)",
                      fontSize:12,
                  },
              },
              axisLine: {
      			lineStyle: {
      				color: 'rgba(255,255,255,.2)'
      			}
              },
              data: {{form.echart4.xAxis|safe}}
          }, {
              axisPointer: {show: false},
              axisLine: {show: false},
              position: 'bottom',
              offset: 20,
          }],
          yAxis: [{
              type: 'value',
              axisTick: {show: false},
              axisLine: {
                  lineStyle: {
                      color: 'rgba(255,255,255,.1)'
                  }
              },
              axisLabel:  {
                  textStyle: {
                      color: "rgba(255,255,255,.6)",
                      fontSize:12,
                  },
              },
              splitLine: {
                  lineStyle: {
                       color: 'rgba(255,255,255,.1)'
                  }
              }
          }],
          series: [
      	{
              name: '{{form.echart4.data[0].name}}',
              data: {{form.echart4.data[0].value|safe}},
              type: 'line',
              smooth: true,
              symbol: 'circle',
              symbolSize: 5,
              showSymbol: false,
              lineStyle: {
                  normal: {
      				color: '#0184d5',
                      width: 2
                  }
              },
              areaStyle: {
                  normal: {
                      color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                          offset: 0,
                          color: 'rgba(1, 132, 213, 0.4)'
                      }, {
                          offset: 0.8,
                          color: 'rgba(1, 132, 213, 0.1)'
                      }], false),
                      shadowColor: 'rgba(0, 0, 0, 0.1)',
                  }
              },
      			itemStyle: {
      			normal: {
      				color: '#0184d5',
      				borderColor: 'rgba(221, 220, 107, .1)',
      				borderWidth: 12
      			}
      		},
          },
          {
              name: '{{form.echart4.data[1].name}}',
              data: {{form.echart4.data[1].value|safe}},
              type: 'line',
              smooth: true,
              symbol: 'circle',
              symbolSize: 5,
              showSymbol: false,
              lineStyle: {
                  normal: {
      				color: '#00d887',
                      width: 2
                  }
              },
              areaStyle: {
                  normal: {
                      color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                          offset: 0,
                          color: 'rgba(0, 216, 135, 0.4)'
                      }, {
                          offset: 0.8,
                          color: 'rgba(0, 216, 135, 0.1)'
                      }], false),
                      shadowColor: 'rgba(0, 0, 0, 0.1)',
                  }
              },
      			itemStyle: {
      			normal: {
      				color: '#00d887',
      				borderColor: 'rgba(221, 220, 107, .1)',
      				borderWidth: 12
      			}
      		},
          },
          {
              name: '{{form.echart4.data[2].name}}',
              data: {{form.echart4.data[2].value|safe}},
              type: 'line',
              smooth: true,
              symbol: 'circle',
              symbolSize: 5,
              showSymbol: false,
              lineStyle: {
                  normal: {
      				color: '#0682ab',
                      width: 2
                  }
              },
              areaStyle: {
                  normal: {
                      color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                          offset: 0,
                          color: 'rgba(6, 130, 171, 0.4)'
                      }, {
                          offset: 0.8,
                          color: 'rgba(6, 130, 171, 0.1)'
                      }], false),
                      shadowColor: 'rgba(0, 0, 0, 0.1)',
                  }
              },
      			itemStyle: {
      			normal: {
      				color: '#0682ab',
      				borderColor: 'rgba(221, 220, 107, .1)',
      				borderWidth: 12
      			}
      		},
          },
          {
              name: '{{form.echart4.data[3].name}}',
              data: {{form.echart4.data[3].value|safe}},
              type: 'line',
              smooth: true,
              symbol: 'circle',
              symbolSize: 5,
              showSymbol: false,
              lineStyle: {
                  normal: {
      				color: '#06a0ab',
                      width: 2
                  }
              },
              areaStyle: {
                  normal: {
                      color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                          offset: 0,
                          color: 'rgba(6, 200, 171, 0.4)'
                      }, {
                          offset: 0.8,
                          color: 'rgba(6, 200, 171, 0.1)'
                      }], false),
                      shadowColor: 'rgba(0, 0, 0, 0.1)',
                  }
              },
      			itemStyle: {
      			normal: {
      				color: '#06a0ab',
      				borderColor: 'rgba(6, 200, 171, 0.1)',
      				borderWidth: 12
      			}
      		},
          },
      ]
      };
          // 使用刚指定的配置项和数据显示图表。
          myChart.setOption(option);
          window.addEventListener("resize",function(){
              myChart.resize();
          });
      })
    </script>
  </body>
</html>
